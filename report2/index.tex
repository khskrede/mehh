
\documentclass[12pt]{book}

\usepackage{verbatim}
\usepackage{cite}
%\usepackage[square]{natbib}
\usepackage{parskip}
%\usepackage{longtable}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{float}
\usepackage{rotating}
\usepackage{appendix}
\usepackage{amsmath}
\usepackage{longtable}

\usepackage{color}
\definecolor{Grey}{rgb}{0.5,0.5,0.5} 


% Make margin of captions smaller
%\usepackage[margin=1cm]{caption}

%\usepackage{fancyhdr}
%\pagestyle{fancy}

% BNF Grammar stuff
\usepackage{syntax}
\newdimen\grammarindent
\grammarindent10em
%\renewcommand{\syntleft}{\normalfont\itshape}
%\renewcommand{\syntright}{}
\renewcommand{\sdsize}{%
\scriptsize%
}


% Listings stuff
\usepackage{xcolor}
\usepackage{caption}
\DeclareCaptionFormat{listing}{%
  \parbox{\textwidth}{\colorbox{Gray}{\parbox{\textwidth}{#1#2#3}}\vskip-4pt}}

\lstset{ %
basicstyle=\scriptsize,         % the size of the fonts that are used for the code
%basicstyle=\ttfamily,
%numbers=left,                   % where to put the line-numbers
%numberstyle=\scriptsize,        % the size of the fonts that are used for the line-numbers
%frame=trBL%single,                   % adds a frame around the code
frame=single,
framerule=1pt,
frameround=tttt,
%backgroundcolor=\color{red},
showstringspaces=false,
tabsize=2,                      % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%title=\lstname,			% include title (file name)
xleftmargin=5pt,
xrightmargin=5pt,
%framextopmargin=45pt.
%framexbottommargin=45pt,
rulecolor=\color{Grey}
}

\newcommand{\inhas}[1]{\texttt{'#1'}}

% Disable section numbering
%\setcounter{secnumdepth}{-1} 


\begin{document}

\title{Just-In-Time compilation of\\Haskell with PyPy and GHC}
\author{Knut Halvor Skrede}

\begin{titlepage}
\maketitle
\end{titlepage}

\input{abstract.tex}
\clearpage
\input{preface.tex}
\clearpage

\tableofcontents
%\clearpage
%\listoffigures
%\listoftables
%\clearpage
\clearpage

\input{intro.tex}
\clearpage
\input{background.tex}
\clearpage
%\input{core.tex}
%\clearpage

\input{haskell-python.tex}
\clearpage
\input{rewriting.tex}
\clearpage
\input{implementation.tex}
\clearpage
%\input{primitives.tex}
%\clearpage
%\input{testing.tex}
%\clearpage
\input{conclusion.tex}
\clearpage
%\input{future.tex}

\clearpage
\bibliographystyle{plain}
\bibliography{papers}

\clearpage
\appendix
\appendixpage
\input{appendices/core-grammar.tex}
\input{appendices/jscore-grammar.tex}
\input{appendices/json-grammar.tex}

\end{document}
